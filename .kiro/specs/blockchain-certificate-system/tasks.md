# 实施计划

## 当前实现状态

### 已完成的后端工作 ✅
- 项目基础架构搭建完成（Spring Boot、Maven 依赖、配置文件）
- 所有数据库实体类已实现（User、Application、Approval、Certificate、College、Major、CertificateTemplate、SystemLog、SystemConfig）
- 所有 Repository 接口已创建（基于 MyBatis Plus）
- 全局异常处理和统一响应封装已实现
- 完整的安全认证模块（JWT、验证码、Spring Security、AuthService、AuthController）
- 工具类模块（CryptoUtil、SignatureUtil、CertificateNumberGenerator、PdfGenerator）
- IPFS 集成模块完全完善（IpfsConfig、IpfsClient、IpfsService 及全面测试）
- 区块链集成模块完全完善（BlockchainConfig、CertificateContract、FiscoBcosClient、BlockchainService 及全面测试）
- 证书申请模块完全实现（ApplicationService、ApplicationController 及相关 DTO/VO）
- 审批流程模块完全实现（ApprovalService、ApprovalController 及相关 DTO/VO）
- 证书生成和管理模块完全实现（CertificateService、CertificateController）
- 证书核验模块完全实现（VerificationService、VerificationController）
- 用户管理模块完全实现（UserService、UserController）
- 个人中心模块完全实现（ProfileService、ProfileController）
- 系统配置和管理模块完全实现（CollegeService、MajorService、TemplateService、SystemLogService、StatisticsService、AdminController）
- 所有核心 DTO/VO 类已实现
- 多个属性测试已完成（用户创建验证、证书编号唯一性、有效凭据登录成功、智能合约调用、IPFS 上传往返、申请创建和文件存储、自动填充学生信息、取消申请数据清理、申请搜索准确性、审批数字签名）

### 已完成的前端工作 ✅
- Vue 3 + TypeScript 项目结构已创建
- 基础依赖已配置（Element Plus、Pinia、Vue Router、Axios）
- 完整的路由配置和权限控制已实现
- 认证状态管理（auth store）已完成
- 主要页面组件已实现：
  - Login.vue（登录页面，包含验证码、记住密码等功能）
  - Layout.vue（主布局，包含侧边栏、导航栏、面包屑）
  - Dashboard.vue（仪表板，包含欢迎信息和快捷操作）
  - Applications.vue（学生申请页面，包含申请列表、新建申请、申请详情）
  - MyCertificates.vue（我的证书页面）
  - Approvals.vue（老师审批页面）
  - MyApprovals.vue（我的审批记录页面）
  - Profile.vue（个人中心页面）
  - Verify.vue（证书核验页面）
  - 所有管理员页面（UserManagement.vue、CollegeManagement.vue、TemplateManagement.vue、SystemLog.vue、CertificateManagement.vue）
- API 接口模块基础结构已创建（auth、application、approval、certificate、admin、user）
- 公共组件已实现（FileUpload.vue、SearchForm.vue、Pagination.vue、StatusTag.vue）
- 工具函数和类型定义已完成（crypto.ts、file.ts、format.ts、validate.ts、request.ts）
- 状态管理已完成（auth.ts、application.ts、certificate.ts）

## 剩余实施任务

- [ ] 1. 前端页面功能完善和集成
- [ ] 1.1 完善前端页面交互逻辑
  - 完善 Login.vue 的验证码刷新和记住密码功能
  - 完善 Applications.vue 的申请创建、编辑、取消功能
  - 完善 Approvals.vue 的审批操作和数字签名功能
  - 完善 MyCertificates.vue 的证书查看和下载功能
  - 完善 Verify.vue 的证书核验功能
  - _需求: 1.1, 1.3, 2.1, 2.5, 3.1, 6.1, 15.1, 16.1_

- [ ] 1.2 完善管理员页面功能
  - 完善 UserManagement.vue 的用户增删改查功能
  - 完善 CollegeManagement.vue 的学院和专业管理功能
  - 完善 TemplateManagement.vue 的证书模板管理功能
  - 完善 SystemLog.vue 的日志查询和导出功能
  - 完善 CertificateManagement.vue 的证书管理功能
  - _需求: 8.1, 8.2, 9.1, 9.2, 10.1, 10.2, 11.1, 11.2, 12.1_

- [ ] 1.3 完善 API 集成和错误处理
  - 完善 Axios 请求拦截器和响应拦截器
  - 实现统一的错误处理机制和用户友好的错误提示
  - 完善所有 API 接口的调用和数据处理
  - 实现文件上传进度显示和错误重试机制
  - _需求: 1.5, 2.2, 7.4_

- [ ] 1.4 完善状态管理和数据流
  - 完善 application store 的申请列表和详情管理
  - 完善 certificate store 的证书数据管理
  - 实现 approval store 的审批数据管理
  - 优化数据缓存和更新机制
  - _需求: 2.4, 3.5, 15.2, 16.2_

- [ ] 2. 前后端集成和测试
- [ ] 2.1 前后端联调和集成测试
  - 配置 Vite 开发代理到后端 API
  - 测试完整的用户认证和权限控制流程
  - 测试申请-审批-存证-核验完整业务流程
  - 测试用户管理和系统配置功能
  - 验证所有 API 接口的前后端数据对接
  - _需求: 1.1, 2.1, 3.1, 4.1, 5.1, 6.1, 8.1, 9.1, 10.1_

- [ ] 2.2 响应式布局和用户体验优化
  - 优化页面布局，避免不必要的滚动
  - 实现模态框展示详细信息
  - 优化移动端适配
  - 实现组件懒加载和性能优化
  - _需求: 13.1, 13.2, 13.3, 13.4_

- [ ] 3. 系统优化和部署准备
- [ ] 3.1 基础性能和安全优化
  - 前端基础优化（基本缓存策略、错误处理）
  - 后端基础优化（必要的数据库索引、基本缓存）
  - 基础安全加固（HTTPS、基本的CSRF防护、输入验证）
  - _需求: 1.6, 13.1_

- [ ] 3.2 部署准备和文档
  - 编写基础部署文档
  - 准备简单的 Docker 部署配置
  - 配置基本的日志记录
  - 准备核心功能验收测试

## 剩余属性测试任务

- [ ]* 4. 补充剩余属性测试
- [ ]* 4.1 认证和授权属性测试
  - **属性 2**: 无效凭据登录失败测试
  - **属性 4**: 基于角色的访问控制测试
  - **属性 5**: 令牌过期处理测试
  - **属性 6**: 验证码刷新测试
  - _需求: 1.2, 1.4, 1.5, 1.7_

- [ ]* 4.2 申请和审批流程属性测试
  - **属性 8**: 文件格式验证测试
  - **属性 14**: 初审通过状态转换测试
  - **属性 17**: 待审列表权限过滤测试
  - **属性 18**: 审批意见记录测试
  - _需求: 2.2, 3.2, 3.5, 3.6_

- [ ]* 4.3 证书生成和管理属性测试
  - **属性 21**: 证书 PDF 生成测试
  - **属性 23**: 证书元数据存储测试
  - **属性 24**: 证书撤销状态更新测试
  - **属性 25**: 撤销证书状态查询测试
  - _需求: 4.2, 4.4, 4.5, 4.6_

- [ ]* 4.4 区块链存证属性测试
  - **属性 27**: 交易回执获取测试
  - **属性 28**: 交易信息记录测试
  - **属性 29**: 区块链错误重试测试
  - _需求: 5.2, 5.3, 5.4_

- [ ]* 4.5 证书核验属性测试
  - **属性 30**: 数据库查询测试
  - **属性 31**: 区块链验证测试
  - **属性 32**: IPFS 完整性验证测试
  - **属性 33**: 三级验证成功测试
  - **属性 34**: 验证失败处理测试
  - **属性 35**: 下载链接提供测试
  - **属性 36**: 核验页面公开访问测试
  - _需求: 6.1, 6.2, 6.3, 6.4, 6.5, 6.6, 6.7_

- [ ]* 4.6 文件存储属性测试
  - **属性 38**: IPFS 文件检索测试
  - **属性 39**: 证书下载权限验证测试
  - **属性 40**: IPFS 错误处理测试
  - **属性 41**: 申请删除文件清理测试
  - _需求: 7.2, 7.3, 7.4, 7.5_

- [ ]* 4.7 用户管理属性测试
  - **属性 43**: 用户信息更新日志测试
  - **属性 44**: 密码重置测试
  - **属性 45**: 账号禁用登录阻止测试
  - **属性 46**: 用户软删除测试
  - **属性 47**: 用户搜索准确性测试
  - **属性 48**: 用户列表分页测试
  - _需求: 8.2, 8.3, 8.4, 8.5, 8.6, 8.7_

- [ ]* 4.8 配置管理属性测试
  - **属性 49**: 学院创建测试
  - **属性 50**: 审批人分配测试
  - **属性 51**: 学院信息更新测试
  - **属性 52**: 学院删除检查测试
  - **属性 53**: 审批流配置测试
  - **属性 54**: 审批流配置应用测试
  - **属性 55**: 模板上传验证测试
  - **属性 56**: 模板字段配置测试
  - **属性 57**: 默认模板设置测试
  - **属性 58**: 模板预览测试
  - **属性 59**: 模板删除检查测试
  - _需求: 9.1, 9.2, 9.3, 9.4, 9.5, 9.6, 10.1, 10.2, 10.3, 10.4, 10.5_

- [ ]* 4.9 日志和统计属性测试
  - **属性 60**: 操作日志记录测试
  - **属性 61**: 日志列表分页测试
  - **属性 62**: 日志时间筛选测试
  - **属性 63**: 日志用户筛选测试
  - **属性 64**: 日志详情完整性测试
  - **属性 65**: 日志导出测试
  - **属性 66**: 证书统计准确性测试
  - **属性 67**: 审批统计准确性测试
  - **属性 68**: 区块链监控数据测试
  - **属性 69**: 报表导出测试
  - _需求: 11.1, 11.2, 11.3, 11.4, 11.5, 11.6, 12.1, 12.2, 12.3, 12.4_

- [ ]* 4.10 个人中心和其他功能属性测试
  - **属性 70**: 表单实时验证测试
  - **属性 71**: 个人信息展示测试
  - **属性 72**: 密码修改验证测试
  - **属性 73**: 个人信息更新测试
  - **属性 74**: 我的证书列表测试
  - **属性 75**: 证书搜索准确性测试
  - **属性 76**: 证书时间筛选测试
  - **属性 77**: 证书详情完整性测试
  - **属性 78**: 证书下载测试
  - **属性 79**: 审批统计展示测试
  - **属性 80**: 我的审批列表测试
  - **属性 81**: 审批记录搜索测试
  - **属性 82**: 区块链状态展示测试
  - **属性 83**: 配置信息展示测试
  - **属性 84**: 数据同步测试
  - **属性 85**: 区块链错误展示测试
  - _需求: 13.5, 14.1, 14.2, 14.3, 15.1, 15.2, 15.3, 15.4, 15.5, 16.1, 16.2, 16.3, 17.1, 17.2, 17.3, 17.4_
