# ChainCert 区块链证书存证系统 - 学习与部署指南

> **适用场景**: 期末作业 | 项目学习 | 本地开发环境部署
> **难度等级**: 中高级 (涉及区块链、分布式存储、全栈开发)
> **预计学习时间**: 4-8 小时

---

## 📚 第一部分：项目核心概念学习

### 1.1 项目定位与价值

**ChainCert (链证通)** 解决的核心问题：
- ❌ **传统证书痛点**: 易伪造、难验证、管理成本高
- ✅ **区块链解决方案**: 不可篡改、可追溯、去中心化验证

**实际应用场景**:
1. 高校毕业证书/学位证书存证
2. 职业资格证书防伪
3. 荣誉证书真伪验证
4. 培训结业证书管理

### 1.2 核心技术栈解析

| 技术 | 作用 | 为什么选择 |
|------|------|-----------|
| **FISCO BCOS** | 联盟区块链 | 国产、企业级、高性能(TPS>2000) |
| **IPFS** | 分布式存储 | 去中心化、永久存储、降低成本 |
| **Spring Boot** | 后端框架 | 快速开发、生态完善、易维护 |
| **Vue 3** | 前端框架 | 组合式API、TypeScript支持、性能优化 |
| **Solidity** | 智能合约 | 区块链标准语言、成熟可靠 |

### 1.3 系统架构深度解析

```
┌─────────────────────────────────────────────────────┐
│                   用户交互层                         │
│  Vue 3 + Element Plus (前端界面)                    │
│  - 用户注册/登录                                     │
│  - 证书申请提交                                      │
│  - 证书验证查询                                      │
└────────────────┬────────────────────────────────────┘
                 │ HTTP REST API (JSON)
┌────────────────▼────────────────────────────────────┐
│                 业务逻辑层                           │
│  Spring Boot 后端服务                                │
│  ┌───────────┬────────────┬────────────┬─────────┐  │
│  │Controller │  Service   │ Repository │  Util   │  │
│  │(接口层)   │  (业务层)   │ (数据层)   │ (工具)  │  │
│  └─────┬─────┴──────┬─────┴──────┬─────┴────┬────┘  │
│        │            │            │          │        │
│  ┌─────▼─────┐ ┌───▼────┐ ┌────▼─────┐ ┌──▼───┐   │
│  │  JWT      │ │Blockchain│ │  IPFS   │ │ PDF  │   │
│  │ 认证授权  │ │  服务   │ │  服务   │ │ 生成 │   │
│  └───────────┘ └────┬────┘ └────┬─────┘ └──────┘   │
└────────────────────┼──────────┼────────────────────┘
                     │          │
        ┌────────────▼──┐  ┌───▼───────────────┐
        │ FISCO BCOS    │  │  IPFS 分布式存储  │
        │ 区块链网络    │  │  - 证书PDF文件    │
        │ - 智能合约    │  │  - 申请材料       │
        │ - 交易记录    │  │  - 返回CID哈希    │
        │ - 不可篡改    │  └───────────────────┘
        └───────┬───────┘
                │
        ┌───────▼────────────────────┐
        │  MySQL 数据库              │
        │  - 用户信息表              │
        │  - 申请记录表              │
        │  - 证书记录表              │
        │  - 审批流程表              │
        └────────────────────────────┘
```

### 1.4 完整业务流程图

```
学生端操作流程:
┌──────────┐    ┌──────────┐    ┌──────────┐
│ 1.注册   │ -> │ 2.登录   │ -> │ 3.提交   │
│  账户    │    │  系统    │    │  申请    │
└──────────┘    └──────────┘    └──────────┘
                                      │
                                      ▼
                           ┌─────────────────┐
                           │ 4.上传证明材料  │
                           │  (存储到IPFS)   │
                           └────────┬────────┘
                                    │
教师/管理员审批流程:                  ▼
┌──────────┐    ┌──────────┐    ┌──────────┐
│ 5.教师   │ -> │ 6.管理员 │ -> │ 7.审批   │
│  初审    │    │  终审    │    │  通过    │
└──────────┘    └──────────┘    └──────────┘
                                      │
系统自动化流程:                        ▼
┌──────────┐    ┌──────────┐    ┌──────────┐
│ 8.生成   │ -> │ 9.上传   │ -> │10.计算   │
│  PDF证书 │    │  到IPFS  │    │  哈希值  │
└──────────┘    └──────────┘    └─────┬────┘
                                      │
区块链存证:                            ▼
┌──────────┐    ┌──────────┐    ┌──────────┐
│11.调用   │ -> │12.智能   │ -> │13.返回   │
│  合约    │    │  合约存证│    │  交易哈希│
└──────────┘    └──────────┘    └─────┬────┘
                                      │
证书验证流程:                          ▼
┌──────────┐    ┌──────────┐    ┌──────────┐
│14.用户   │ -> │15.计算   │ -> │16.查询   │
│  上传证书│    │  文件哈希│    │  区块链  │
└──────────┘    └──────────┘    └─────┬────┘
                                      │
                                      ▼
                           ┌─────────────────┐
                           │17.对比哈希值    │
                           │  返回验证结果   │
                           └─────────────────┘
```

### 1.5 智能合约核心逻辑

**合约文件**: `backend/src/main/resources/contracts/CertificateRegistry.sol`

```solidity
// 核心数据结构
struct CertificateRecord {
    string certificateNo;      // 证书编号 (唯一标识)
    string fileHash;          // 文件SHA-256哈希值
    address issuer;           // 颁发者区块链地址
    uint256 timestamp;        // 存证时间戳
    bool exists;              // 是否存在
    bool revoked;             // 是否已撤销
}

// 关键函数说明
1. storeCertificate()     - 存储证书 (只有授权颁发者可调用)
2. verifyCertificate()    - 验证证书 (公开查询)
3. revokeCertificate()    - 撤销证书 (只有原颁发者或管理员)
4. getCertificate()       - 获取证书详情
```

**为什么用区块链存储?**
- ✅ 数据写入后永久不可修改
- ✅ 所有操作可追溯和审计
- ✅ 去中心化验证，无需依赖单一机构
- ✅ 时间戳作为法律证据

### 1.6 IPFS 存储原理

**IPFS (InterPlanetary File System)** = 星际文件系统

**工作流程**:
```
上传文件 -> IPFS节点 -> 内容寻址 -> 返回CID
                         (基于文件内容的唯一哈希)

示例:
文件: certificate.pdf
CID:  QmT5NvUtoM5nWFfrQdVrFtvGfKFmG7AHE8P34isapyhCxX
```

**优势**:
1. 内容寻址：相同文件内容=相同CID，自动去重
2. 分布式存储：文件分片存储在多个节点
3. 永久存储：即使上传节点下线，文件仍可访问
4. 降低成本：无需中心化服务器

---

## 🚀 第二部分：环境搭建与部署

### 2.1 系统要求检查

**已确认的本地环境**:
- ✅ Java 21 (要求: Java 17+)
- ✅ Maven 3.9.9 (要求: Maven 3.6+)
- ✅ Node.js v22.21.0 (要求: Node 18+)
- ✅ npm 10.9.4

**待安装**:
- ❌ Docker Desktop (必需)
- ❌ MySQL 8.0 (可通过Docker安装)
- ❌ Redis (可通过Docker安装)

### 2.2 Docker 环境搭建

#### Step 1: 安装 Docker Desktop

**macOS 安装**:
```bash
# 方式1: 官网下载
访问: https://www.docker.com/products/docker-desktop
下载并安装 Docker Desktop for Mac

# 方式2: Homebrew安装
brew install --cask docker
```

**启动验证**:
```bash
docker --version
docker-compose --version
```

#### Step 2: 一键启动所有服务

```bash
# 进入项目根目录
cd /Users/macmima1234/Desktop/code/ChainCert

# 启动所有服务 (MySQL + Redis + IPFS + FISCO BCOS + 后端 + 前端)
docker-compose up -d

# 查看服务状态
docker-compose ps

# 查看日志
docker-compose logs -f
```

**预期输出**:
```
NAME                  STATUS          PORTS
chaincert-mysql       Up 2 minutes    0.0.0.0:3306->3306/tcp
chaincert-redis       Up 2 minutes    0.0.0.0:6379->6379/tcp
chaincert-ipfs        Up 2 minutes    0.0.0.0:5001->5001/tcp
chaincert-fisco       Up 2 minutes    0.0.0.0:20200->20200/tcp
chaincert-backend     Up 1 minute     0.0.0.0:8080->8080/tcp
chaincert-frontend    Up 1 minute     0.0.0.0:80->80/tcp
```

### 2.3 手动启动方式 (本地开发推荐)

如果想分步骤理解每个组件，可以手动启动：

#### Step 1: 启动数据库服务

```bash
# 启动 MySQL
docker run -d \
  --name chaincert-mysql \
  -e MYSQL_ROOT_PASSWORD=root123456 \
  -e MYSQL_DATABASE=certificate_system \
  -p 3306:3306 \
  mysql:8.0

# 初始化数据库
mysql -h 127.0.0.1 -P 3306 -uroot -proot123456 < 初始化数据库.sql

# 启动 Redis
docker run -d \
  --name chaincert-redis \
  -p 6379:6379 \
  redis:7-alpine
```

#### Step 2: 启动 IPFS

```bash
# 启动 IPFS 节点
docker run -d \
  --name chaincert-ipfs \
  -p 5001:5001 \
  -p 8081:8080 \
  ipfs/kubo:v0.24.0

# 验证 IPFS
curl http://localhost:5001/api/v0/id
```

#### Step 3: 启动 FISCO BCOS 区块链

```bash
cd docker/fisco
docker-compose up -d

# 验证节点状态
curl -X POST \
  -H "Content-Type: application/json" \
  --data '{"jsonrpc":"2.0","method":"getBlockNumber","params":[1],"id":1}' \
  http://localhost:8545
```

#### Step 4: 部署智能合约

**方式1: 使用 Java 部署工具**
```bash
cd backend

# 编译项目
mvn clean compile

# 运行部署程序
mvn spring-boot:run -Dspring-boot.run.main-class=com.blockchain.certificate.blockchain.DeployContractApplication
```

**方式2: 使用 FISCO 控制台**
```bash
# 下载控制台
cd docker/fisco
curl -#LO https://github.com/FISCO-BCOS/console/releases/download/v2.9.2/download_console.sh
bash download_console.sh

# 配置证书
cd console
cp ../nodes/127.0.0.1/sdk/* conf/

# 启动控制台
bash start.sh

# 部署合约
[group:1]> deploy CertificateRegistry
contract address: 0x1234567890abcdef...  # 记录这个地址!
```

**关键配置**: 将合约地址写入配置文件
```bash
# 编辑 backend/src/main/resources/application.yml
vim backend/src/main/resources/application.yml

# 修改这一行:
fisco:
  contract:
    address: "0x1234567890abcdef..."  # 填入上面的合约地址
```

#### Step 5: 启动后端服务

```bash
cd backend

# 方式1: Maven 启动
mvn spring-boot:run

# 方式2: 打包后启动
mvn clean package -DskipTests
java -jar target/certificate-system-1.0.0.jar

# 验证后端
curl http://localhost:8080/api/actuator/health
```

**预期输出**:
```json
{
  "status": "UP",
  "components": {
    "blockchain": {"status": "UP"},
    "ipfs": {"status": "UP"},
    "db": {"status": "UP"}
  }
}
```

#### Step 6: 启动前端服务

```bash
cd frontend

# 安装依赖 (首次运行)
npm install

# 启动开发服务器
npm run dev

# 访问地址
浏览器打开: http://localhost:5173
```

---

## 🧪 第三部分：功能测试与演示

### 3.1 完整流程测试清单

#### Test 1: 用户注册与登录

```bash
# API测试 - 注册
curl -X POST http://localhost:8080/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "student001",
    "password": "Pass123456",
    "realName": "张三",
    "email": "zhangsan@example.com",
    "phone": "13800138000",
    "role": "STUDENT"
  }'

# API测试 - 登录
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "student001",
    "password": "Pass123456"
  }'

# 保存返回的 token
export TOKEN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

#### Test 2: 提交证书申请

```bash
# 上传证明材料到 IPFS
curl -X POST http://localhost:8080/api/ipfs/upload \
  -H "Authorization: Bearer $TOKEN" \
  -F "file=@/path/to/proof.pdf"

# 返回 IPFS Hash: QmXXXXXXXX

# 提交证书申请
curl -X POST http://localhost:8080/api/applications \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "certificateType": "GRADUATION",
    "studentId": "2024001",
    "major": "计算机科学与技术",
    "proofMaterialHash": "QmXXXXXXXX",
    "description": "本科毕业证书申请"
  }'
```

#### Test 3: 审批流程

```bash
# 教师审批 (需要教师角色 Token)
curl -X POST http://localhost:8080/api/approvals/{申请ID}/approve \
  -H "Authorization: Bearer $TEACHER_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "approved": true,
    "comment": "材料齐全，同意颁发"
  }'

# 管理员终审
curl -X POST http://localhost:8080/api/approvals/{申请ID}/final-approve \
  -H "Authorization: Bearer $ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "approved": true,
    "comment": "终审通过"
  }'
```

#### Test 4: 自动化证书生成与上链

审批通过后，系统会自动：
1. 生成 PDF 证书
2. 上传到 IPFS
3. 计算文件哈希
4. 调用智能合约存证

**查看证书详情**:
```bash
curl -X GET http://localhost:8080/api/certificates/{证书ID} \
  -H "Authorization: Bearer $TOKEN"
```

**返回示例**:
```json
{
  "certificateNo": "CERT-2024-001",
  "studentName": "张三",
  "certificateType": "GRADUATION",
  "issueDate": "2024-12-27",
  "ipfsHash": "QmYYYYYYYY",
  "blockchainTxHash": "0xabcdef123456...",
  "blockNumber": 12345,
  "status": "VALID"
}
```

#### Test 5: 证书验证

```bash
# 方式1: 通过证书编号验证
curl -X GET "http://localhost:8080/api/certificates/verify?certificateNo=CERT-2024-001"

# 方式2: 上传文件验证
curl -X POST http://localhost:8080/api/certificates/verify-file \
  -F "file=@/path/to/certificate.pdf"
```

**验证结果示例**:
```json
{
  "valid": true,
  "certificateNo": "CERT-2024-001",
  "fileHash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
  "issueDate": "2024-12-27",
  "blockchainVerified": true,
  "blockchainTimestamp": 1703664000000,
  "ipfsAccessible": true
}
```

### 3.2 前端操作演示流程

#### 界面导航结构

```
登录页 (/)
└── 学生端
    ├── 我的申请 (/applications)
    ├── 提交申请 (/applications/new)
    ├── 我的证书 (/certificates)
    └── 证书验证 (/verify)

└── 教师端
    ├── 待审批列表 (/approvals/pending)
    └── 审批历史 (/approvals/history)

└── 管理员端
    ├── 用户管理 (/admin/users)
    ├── 证书管理 (/admin/certificates)
    ├── 系统统计 (/admin/statistics)
    └── 系统日志 (/admin/logs)
```

#### 操作步骤录屏脚本

**场景1: 学生申请证书**
1. 访问 http://localhost:5173
2. 点击"注册" -> 填写学生信息 -> 提交
3. 登录 -> 进入学生界面
4. 点击"提交申请" -> 选择证书类型
5. 上传证明材料 (PDF/图片)
6. 填写申请说明 -> 提交
7. 查看"我的申请"状态

**场景2: 教师审批**
1. 使用教师账号登录
2. 进入"待审批列表"
3. 查看学生申请详情和证明材料
4. 填写审批意见 -> 点击"通过"/"驳回"

**场景3: 证书验证**
1. 访问"证书验证"页面
2. 方式1: 输入证书编号 -> 点击验证
3. 方式2: 上传证书PDF文件 -> 系统自动验证
4. 查看验证结果（包括区块链数据）

---

## 📖 第四部分：核心代码详解

### 4.1 智能合约关键代码

**文件位置**: `backend/src/main/resources/contracts/CertificateRegistry.sol`

```solidity
// 存储证书函数
function storeCertificate(
    string memory certificateNo,
    string memory fileHash
) public onlyAuthorizedIssuer returns (bool) {
    // 检查证书是否已存在
    require(!certificates[certificateNo].exists,
            "Certificate already exists");

    // 创建证书记录
    certificates[certificateNo] = CertificateRecord({
        certificateNo: certificateNo,
        fileHash: fileHash,
        issuer: msg.sender,          // 记录颁发者地址
        timestamp: block.timestamp,  // 区块时间戳
        exists: true,
        revoked: false
    });

    // 触发事件 (可被监听)
    emit CertificateStored(certificateNo, fileHash,
                          msg.sender, block.timestamp);

    return true;
}
```

**学习要点**:
- `onlyAuthorizedIssuer`: 修饰符，限制只有授权者可调用
- `msg.sender`: 交易发起者地址
- `block.timestamp`: 当前区块时间
- `emit`: 触发事件，前端可监听

### 4.2 后端区块链服务

**文件位置**: `backend/src/main/java/com/blockchain/certificate/service/BlockchainService.java`

```java
public BlockchainStorageResult storeCertificate(
    String certificateNo, String fileHash) {

    log.info("开始区块链存证，证书编号: {}", certificateNo);

    // 1. 调用智能合约
    TransactionReceipt receipt = certificateContract
        .storeCertificate(certificateNo, fileHash);

    // 2. 检查交易状态
    if (!receipt.isStatusOK()) {
        throw new BusinessException("区块链存证失败");
    }

    // 3. 构建返回结果
    BlockchainStorageResult result = new BlockchainStorageResult();
    result.setTransactionHash(receipt.getTransactionHash());
    result.setBlockNumber(Long.parseLong(receipt.getBlockNumber()));

    return result;
}
```

**学习要点**:
- `TransactionReceipt`: 交易回执，包含交易哈希和区块号
- 同步调用：等待交易被区块链确认后返回
- 错误处理：交易失败时抛出业务异常

### 4.3 IPFS 文件上传

**文件位置**: `backend/src/main/java/com/blockchain/certificate/service/IpfsService.java`

```java
public String uploadFile(MultipartFile file) throws IOException {
    // 1. 获取文件内容
    byte[] content = file.getBytes();

    // 2. 调用 IPFS HTTP API
    String cid = ipfsClient.add(content);

    // 3. 记录日志
    log.info("文件上传成功，CID: {}, 大小: {} bytes",
             cid, content.length);

    return cid;  // 返回 IPFS 内容标识符
}
```

**CID 说明**:
- CID (Content Identifier): 基于文件内容的唯一哈希
- 相同文件内容 = 相同 CID
- 用于从 IPFS 网络检索文件

### 4.4 前端 API 调用

**文件位置**: `frontend/src/api/certificate.ts`

```typescript
// 提交证书申请
export async function submitApplication(data: ApplicationForm) {
  return request({
    url: '/applications',
    method: 'POST',
    data
  })
}

// 验证证书
export async function verifyCertificate(certificateNo: string) {
  return request({
    url: `/certificates/verify`,
    method: 'GET',
    params: { certificateNo }
  })
}
```

**学习要点**:
- `request`: 封装的 axios 实例，自动添加 Token
- RESTful API 设计: GET/POST/PUT/DELETE
- TypeScript 类型约束: 参数类型检查

---

## 🎯 第五部分：期末答辩准备

### 5.1 项目亮点总结

**技术创新点**:
1. ✨ **区块链+IPFS 双重保障**: 数据防篡改 + 文件永久存储
2. ✨ **智能合约自动化**: 证书存证、验证、撤销全自动
3. ✨ **多级审批流程**: 教师初审 + 管理员终审
4. ✨ **前后端分离架构**: 前端Vue3 + 后端Spring Boot
5. ✨ **条件装配设计**: 可通过配置开关区块链功能

**业务价值**:
1. 💎 降低证书管理成本 (无需人工验证)
2. 💎 提升证书公信力 (区块链背书)
3. 💎 支持快速验证 (扫码即查)
4. 💎 永久可追溯 (链上数据永久保存)

### 5.2 演示流程建议

**5分钟快速演示**:
```
00:00-00:30  项目背景介绍 (为什么要做这个系统)
00:30-01:30  系统架构讲解 (展示架构图)
01:30-02:30  学生申请演示 (提交申请 -> 审批通过)
02:30-03:30  证书生成与上链 (展示区块链浏览器)
03:30-04:30  证书验证演示 (上传证书 -> 验证结果)
04:30-05:00  技术亮点总结
```

**10分钟详细演示**:
- 增加技术栈介绍
- 展示智能合约代码
- 演示 IPFS 文件存储
- 展示数据库设计
- 回答常见问题

### 5.3 常见问题准备

**Q1: 为什么选择 FISCO BCOS 而不是以太坊?**
A:
- FISCO BCOS 是联盟链，TPS更高 (>2000)
- 无需 Gas 费用
- 国产自主可控
- 更适合企业级应用

**Q2: IPFS 存储是否安全?**
A:
- IPFS 使用内容寻址，文件内容即地址
- 文件分片加密存储
- 可以配置私有 IPFS 网络
- 结合区块链记录哈希，双重验证

**Q3: 如果区块链节点宕机怎么办?**
A:
- 联盟链有多个节点，容错性强
- 本地数据库保留完整数据
- 可配置开关，降级为纯数据库模式

**Q4: 证书是否可以被删除?**
A:
- 区块链上的记录不可删除
- 可以撤销证书 (标记为 revoked)
- IPFS 文件可以通过 pin 管理生命周期

**Q5: 系统性能如何?**
A:
- 区块链 TPS: 2000+
- IPFS 上传速度: 取决于文件大小
- 后端接口响应: <200ms
- 前端首屏加载: <2s

### 5.4 项目扩展方向

**功能扩展**:
1. 📱 移动端 App (React Native / Flutter)
2. 🔗 跨链互操作 (支持多种区块链)
3. 🤖 AI 审核 (自动识别证明材料真伪)
4. 📧 邮件通知 (申请状态变更推送)
5. 📊 数据分析 (证书颁发统计大屏)

**技术优化**:
1. ⚡ Redis 缓存优化
2. 🔄 消息队列异步处理
3. 🛡️ 防篡改水印技术
4. 🔐 零知识证明隐私保护
5. 📦 微服务架构拆分

---

## 🛠️ 第六部分：故障排查

### 6.1 常见错误及解决方案

#### 错误1: Maven 编译失败

**错误信息**:
```
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin
```

**解决方案**:
```bash
# 检查 Java 版本
java -version  # 需要 17+

# 清理缓存重新编译
mvn clean compile

# 跳过测试
mvn clean package -DskipTests
```

#### 错误2: 区块链连接失败

**错误信息**:
```
FISCO BCOS SDK 初始化失败: Connection refused
```

**解决方案**:
```bash
# 1. 检查节点是否运行
docker ps | grep fisco

# 2. 检查端口是否开放
nc -zv 127.0.0.1 20200

# 3. 查看节点日志
docker logs chaincert-fisco

# 4. 检查证书文件
ls backend/src/main/resources/fisco/
```

#### 错误3: IPFS 上传失败

**错误信息**:
```
java.net.ConnectException: Connection refused (Connection refused)
```

**解决方案**:
```bash
# 1. 检查 IPFS 服务状态
curl http://localhost:5001/api/v0/id

# 2. 重启 IPFS 节点
docker restart chaincert-ipfs

# 3. 检查配置
vim backend/src/main/resources/application.yml
# 确认 ipfs.enabled: true, ipfs.host: localhost, ipfs.port: 5001
```

#### 错误4: 前端启动失败

**错误信息**:
```
Error: Cannot find module 'vite'
```

**解决方案**:
```bash
cd frontend

# 删除缓存
rm -rf node_modules package-lock.json

# 重新安装
npm install

# 启动
npm run dev
```

#### 错误5: 数据库连接失败

**错误信息**:
```
com.mysql.cj.jdbc.exceptions.CommunicationsException
```

**解决方案**:
```bash
# 1. 检查 MySQL 状态
docker ps | grep mysql

# 2. 测试连接
mysql -h 127.0.0.1 -P 3306 -uroot -proot123456

# 3. 检查配置
vim backend/src/main/resources/application.yml
# 确认数据库地址、用户名、密码正确
```

### 6.2 调试技巧

#### 后端调试

```bash
# 查看完整启动日志
mvn spring-boot:run > logs/startup.log 2>&1

# 开启 DEBUG 日志
# 编辑 application.yml
logging:
  level:
    com.blockchain.certificate: DEBUG
```

#### 区块链调试

```bash
# 查看区块链日志
docker exec -it chaincert-fisco tail -f /data/log/log_*.log

# 使用 FISCO 控制台查询
docker exec -it chaincert-fisco bash
cd console
bash start.sh

# 查询区块高度
getBlockNumber

# 查询合约
call CertificateRegistry 0x合约地址 getVersion
```

#### 前端调试

```javascript
// 在浏览器控制台调试 API 请求
// 打开 Chrome DevTools -> Network 标签页
// 查看所有 API 请求和响应
```

---

## 📚 第七部分：学习资源

### 7.1 官方文档

- [FISCO BCOS 文档](https://fisco-bcos-documentation.readthedocs.io/)
- [IPFS 文档](https://docs.ipfs.tech/)
- [Spring Boot 文档](https://spring.io/projects/spring-boot)
- [Vue 3 文档](https://cn.vuejs.org/)
- [Solidity 文档](https://docs.soliditylang.org/)

### 7.2 关键概念学习路径

**区块链基础** (2小时):
1. 什么是区块链
2. 共识机制 (PBFT)
3. 智能合约原理
4. Gas 机制 (FISCO不需要)

**Solidity 编程** (3小时):
1. 数据类型 (string, uint256, address, bool)
2. 函数修饰符 (modifier)
3. 事件 (event)
4. 映射 (mapping)

**Spring Boot 开发** (4小时):
1. 依赖注入 (DI)
2. RESTful API 设计
3. JPA 数据访问
4. JWT 认证

**Vue 3 开发** (3小时):
1. 组合式 API (Composition API)
2. Pinia 状态管理
3. Vue Router 路由
4. TypeScript 集成

### 7.3 实践建议

**第1天**: 环境搭建 + 概念理解
- 安装所有依赖
- 阅读 PROJECT_SUMMARY.md
- 理解系统架构

**第2天**: 后端学习
- 阅读智能合约代码
- 理解区块链服务
- 测试 API 接口

**第3天**: 前端学习
- 阅读 Vue 组件
- 理解状态管理
- 测试页面功能

**第4天**: 完整流程测试
- 端到端测试
- 准备演示材料
- 编写答辩PPT

---

## ✅ 检查清单

### 部署前检查
- [ ] Java 17+ 已安装
- [ ] Maven 3.6+ 已安装
- [ ] Node.js 18+ 已安装
- [ ] Docker Desktop 已安装并启动
- [ ] 项目代码已下载

### 部署中检查
- [ ] MySQL 容器运行正常
- [ ] Redis 容器运行正常
- [ ] IPFS 容器运行正常
- [ ] FISCO BCOS 容器运行正常
- [ ] 智能合约已部署
- [ ] 合约地址已配置到 application.yml

### 部署后检查
- [ ] 后端服务启动成功 (端口8080)
- [ ] 前端服务启动成功 (端口5173)
- [ ] 可以访问前端页面
- [ ] 可以注册和登录
- [ ] 可以提交申请
- [ ] 可以生成证书
- [ ] 可以验证证书

### 答辩准备检查
- [ ] 理解项目架构
- [ ] 理解区块链存证原理
- [ ] 理解 IPFS 存储原理
- [ ] 准备演示数据
- [ ] 准备常见问题回答
- [ ] 准备 PPT
- [ ] 演练演示流程

---

## 🎉 总结

完成本指南后，你将掌握：

1. ✅ **区块链应用开发**: 智能合约编写、部署、调用
2. ✅ **分布式存储**: IPFS 文件上传、检索、验证
3. ✅ **全栈开发**: Spring Boot 后端 + Vue 3 前端
4. ✅ **系统架构设计**: 前后端分离、微服务思想
5. ✅ **DevOps 实践**: Docker 容器化部署

**祝你期末答辩顺利! 🎓**

---

**文档版本**: v1.0
**更新日期**: 2024-12-27
**作者**: Claude AI Assistant
